              m.setIncome(rs.getLong("income")); // 매출액142              m.setNumPeople(rs.getInt("num_people")); // 관객 수143              m.setGenre(rs.getString("genre")); // 장르144              m.setRating(rs.getString("rating")); // 관람 등급 145              m.setFResult(rs.getFloat("effeciency")); // 효율성 146147              datas.add(m); // 데이터를 arrayList에 저장148           149          } // while, 가져온 데이터 저장 150151  } // sortWord(), DB에서 조건에 맞는 데이터를 가져옴152     153  154  // 검색 조건에 맞는 sql문을 작성하는 메소드 155  private String searchReq(String _month, String _nation, String _rating) {156    String sql = "";157      // 월별 검색 조건 체크, 전체 검색을 하지 않은 경우  158      if (!(_month.equals("전체"))) {159        // 전체가 아니면 월별 기간 검색문 추가 160          sql+= " where DATE(open_date) between '2017-" +_month 161                 +"-01' and last_day('2017-"+_month +"-01')";162      }163      // 전체로 검색한 경우 할 필요 x164      165      // 국가 검색 조건 체크, 한국인 경우 166      if ((_nation.equals("한국"))) {167        // 월별 검색 조건이 전체인 경우168        if (_month.equals("전체")) {169          sql += " where country = '한국'";            170        }171           // 월별 검색 조건이 전체가 아닌 경우172           else {173              sql += " and country = '한국'";   174           }         175      } 176      // 국가 검색 조건이 외국인 경우 177      else if ((_nation.equals("외국"))) {178        // 월별 검색 조건이 전체인 경우179        if (_month.equals("전체")) {180          sql += " where country != '한국'";181          } 182        // 월별 검색 조건이 전체가 아닌 경우183        else {184          sql += " and country != '한국'";185        }186      }187        188      // 관람등급 검색 조건 체크, 관람등급 검색을 전체로 하지 않은 경우189      if (!(_rating.equals("전체"))) {190        if (!(_month.equals("전체")) || !(_nation.equals("전체"))) {191          // 위 조건이 하나라도 있는 경우 192              sql += " and rating like " + "'"+ _rating + "%'"; 193        }194        // 위 조건이 둘다 전체인 경우 (없는 경우)195        else {196          sql += " where rating like " + "'"+ _rating + "%'";197        }   198      }199      // 조건이 전체인 경우 할 필요 x 200        201      return sql;202  }203        204205}